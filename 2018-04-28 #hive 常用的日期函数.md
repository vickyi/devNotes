# Hive 常用的日期函数

```sql
## 当前日期和时间
SELECT current_timestamp();
-- 2018-04-28 11:46:03.136

## 获取当前日期，当前是 2018-04-28
SELECT current_date;
OR
SELECT current_date();
-- 2018-04-28

## 获取unix系统下的时间戳
SELECT UNIX_TIMESTAMP();
-- 1524884881

## 当前是 2018-04-28
select substr(current_timestamp, 0, 10);
-- 2018-04-28

## 当前是 2018-04-28
select date_sub(current_date, 1);
-- 2018-04-27

## yyyy-MM-dd HH:MM:ss 截取日期
select to_date("2017-10-22 10:10:10");
-- 2017-10-22

## 两个日期之间的天数差
select datediff("2017-10-22", "2017-10-12");
-- 10

select datediff("2017-10-22 10:10:10", "2017-10-12 23:10:10");
-- 10

select datediff("2017-10-22 01:10:10", "2017-10-12 23:10:10");
-- 10

## 时间截取
select from_unixtime(cast(substr("1504684212155", 0,10) as int)) dt;
-- 2017-09-06 15:50:12

## 时间戳转日期
## 语法: to_date(string timestamp) 
select to_date(from_unixtime(UNIX_TIMESTAMP()));
-- 2018-04-28

select FROM_UNIXTIME(UNIX_TIMESTAMP(),'yyyy-MM-dd 10:30:00');
-- 2018-04-28 10:30:00

select concat(date_sub(current_date,1),' 20:30:00');
-- 2018-04-27 20:30:00

-- hive version 1.2.0
select date_format(date_sub(current_date,1),'yyyy-MM-dd 20:30:00');


```